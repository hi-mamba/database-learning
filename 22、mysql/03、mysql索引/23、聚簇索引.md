
 
# 聚簇索引

聚簇索引也叫`簇类索引`，是一种对`磁盘上实际数据重新组织以按指定的一个或多个列的值排序`。
由于聚簇索引的索引页面指针指向数据页面，所以使用聚簇索引查找数据几乎总是比使用非聚簇索引快。
每张表只能建一个聚簇索引，并且建聚簇索引需要至少相当该表120%的附加空间，以存放该表的副本和索引中间页。

> 聚簇索引也称为聚集索引，聚类索引，簇集索引，聚簇索引确定表中数据的物理顺序。

## 聚簇索引和非聚簇索引区别

- `聚簇索引 数据和索引是在一起`
- `非聚簇索引树的子节点上的data不是数据本身，而是数据存放的地址`
 
 ![image](https://user-images.githubusercontent.com/7867225/147397529-3ac3fa17-94c2-4fce-9029-bee9a6997de1.png)


写在前面，针对InnoDB的MySQL引擎。

- ClusterIndex(聚簇索引), ClusterIndex中的`叶子节点`中保存了`对应的数据内容`。 
- Secondary Index(辅助索引),辅助索引中的`叶子节点`保存的是`聚簇索引`的`叶子节点的值`。

### 聚簇索引：

1. `表数据按顺序存储`，即索引顺序和表记录物理存储顺序一致。
2. 聚簇索引 叶子节点`存储数据行`和`B-Tree索引`。
3. 在一个表中只能有一个聚簇索引，因为真实物理存储顺序只能有一种。
4. 聚簇索引是稀疏索引，数据页上一级索引存储是页指针，非行指针。

### 非聚簇索引：

1. `表数据存储顺序与索引顺序无关。`

2. 对于非聚簇索引，叶节点包含行`主键值`和`主键值作为指向行的“指针”`，通过二级索引查找，
两次B-Tree查找 InnoDB自适应哈希索引能够减少这样重复工作。

3. 非聚簇索引是密集索引，在数据页的上一级索引页它为每一个数据行存储一条记录
