

# 主键索引和辅助索引的区别

 
在MyISAM引擎中，唯一索引除了key值允许存在NULL外，
其余的和主键索引没有本质性区别。

也就是说，在MyISAM引擎中，不允许存在NULL值的唯一索引，本质上和主键索引是一回事。

而在InnoDB引擎中，主键索引和辅助索引的区别就很大了。
主键索引会被选中作为聚集索引，而唯一索引和普通辅助索引间除了唯一性约束外，在存储上没本质区别。

从查询性能上来说，在MyISAM表中主键索引和不允许有NULL的唯一索引的查询性能是相当的，
InnoDB表通过唯一索引查询则需要多一次从辅助索引到主键索引的转换过程。

InnoDB表基于普通索引的查找代价更高，因为每次检索到结果后，
还需要至少再多检索一次才能确认是否还有更多符合条件的结果，主键索引和唯一索引就不需要这么做了。

经过测试，对100万行数据的MyISAM做随机检索（整数类型），主键和唯一索引的效率基本一样，
普通索引的检索效率则慢了30%以上。换成InnoDB表的话，
唯一索引比主键索引效率约慢9%，普通索引比主键索引约慢了50%以上。