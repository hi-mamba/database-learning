

# mysql锁

InnoDB是支持行锁的，MyISAM 不支持行锁，
这也是MyISAM被InnoDB替代的重要原因之一。




- 方案一，事务相对较长，则占用锁的时间较长，会导致其他客户端等待资源时间较长。
- 方案二，串行化执行，将相对长的事务分成多次相对短的事务，则每次事务占用锁的时间相对较短，其他客户端在等待相应资源的时间也较短。这样的操作，同时也意味着将资源分片使用（每次执行使用不同片段的资源），可以提高并发性。
- 方案三，人为自己制造锁竞争，加剧并发量。
- 方案二相对比较好，具体还要结合实际业务场景。

另，对于innodb的行锁，我觉得可以增加一讲，如何加锁（依赖于具体的隔离级别，是否有索引，是否是唯一索引，SQL的执行计划），
特别是在RR隔离级别下的GAP锁，对于innodb，RR级别是可以防止幻读的。 