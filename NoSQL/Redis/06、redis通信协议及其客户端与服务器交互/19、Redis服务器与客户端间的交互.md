## [原文](https://blog.csdn.net/gqtcgq/article/details/51106120)

# Redis服务器与客户端间的交互

  Redis服务器是典型的一对多服务器程序，通过使用由IO多路复用技术实现的文件事件处理器，
 Redis服务器使用单线程单进程的方式来处理命令请求，并与多个客户端进行网络通信。

         Redis客户端与服务器之间通过TCP协议进行通信。TCP协议是一种流式协议，数据以字节流的形式进行传递，
没有固有的"报文"或"报文边界"的概念，如果需要设置边界，需要应用层自行处理。

         因此，Redis客户端与服务器之间的交互数据，都按照Redis自定义的统一请求协议的格式进行编码。使用这种协议，每条命令之间都有了“边界”。

         举个例子，如果客户端要向服务器发送以下命令请求：
```bash
         SET msg “helloworld”
```

         那么客户端实际发送的数据是：

```
         *3\r\n$3\r\nSET\r\n$3\r\nmsg\r\n$11\r\nhelloworld\r\n

```

         服务器收到这样的数据时，就可以通过解析”*3”得到该命令有3个参数，第一个参数长度为3，值为”SET”，也就是要执行的命令；
第二个参数长度为3，值为”msg”；第三个参数长度为11，值为”hello world”。

         这样就得到了一条完整的命令，解析并处理该命令后，接着解析下一条命令。

 