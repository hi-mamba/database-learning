## [原文](https://blog.csdn.net/Win32FanEx/article/details/79513857)

# 从性别字段不适合建索引说起

理论文章会告诉你值重复率高的字段不适合建索引。不要说性别字段只有两个值，网友亲测，一个字段使用拼音首字母做值，共有26种可能，
加上索引后，百万加的数据量，使用索引的速度比不使用索引要慢！

一个表可能会涉及两个数据结构(文件)，一个是表本身，存放表中的数据，另一个是索引。索引是什么？    
它就是把一个或几个字段（组合索引）按规律排列起来，再附上该字段所在行数据的物理地址（位于表中）。
比如我们有个字段是年龄，如果要选取某个年龄段的所有行，那么一般情况下可能需要进行一次全表扫描。

但如果以这个年龄段建个索引，那么索引中会按年龄值建一个排列，这样在索引中就能迅速定位，不需要进行全表扫描。

## 为什么性别不适合建索引呢？      
因为你访问索引需要付出额外的IO开销，你从索引中拿到的只是地址，要想真正访问到数据还是要对表进行一次IO。
假如你要从表的100万行数据中取几个数据，那么利用索引迅速定位，访问索引的这IO开销就非常值了。
但如果你是从100万行数据中取50万行数据，就比如性别字段，那你相对需要访问50万次索引，
再访问50万次表，加起来的开销并不会比直接对表进行一次完整扫描小。

当然凡事不是绝对，如果把性别字段设为表的聚集索引，那么就肯定能加快大约一半该字段的查询速度了。
聚集索引指的是表本身中数据按哪个字段的值来进行排序。因此，聚集索引只能有一个，而且使用聚集索引不会付出额外IO开销。
当然你得能舍得把聚集索引这么宝贵资源用到性别字段上。

参考文章：

<https://www.cnblogs.com/sunxi/p/4011592.html>

<http://www.cnblogs.com/Lovepanda/archive/2010/03/24/MySql.html>
 
