
[LSM树原理探究](https://juejin.cn/post/6844903863758094343)

# LSM树

## LSM树定义
LSM树(Log-Structured-Merge-Tree 日志结构合并树)的名字往往会给初识者一个错误的印象，事实上，
LSM树并不像B+树、红黑树一样是一颗严格的树状数据结构，它其实是一种存储结构，
目前HBase,LevelDB,RocksDB这些NoSQL存储都是采用的LSM树。

`磁盘顺序写`的性能有些颠覆我们的常识的，磁盘顺序写的吞吐量`甚至能够超过`内存随即写的吞吐量。
而LSM树正是利用了这一点，它通过将磁盘随机写操作转化为`顺序写`操作，
从而将随机写操作的吞吐量提高了好几个数量级。那么它是如何转换的呢？下面我们先来看看它的基本思想。
 
## LSM树的基本思想
LSM树会将所有的数据插入、修改、删除等操作`保存在内存`之中，当此类操作达到一定的数据量后，
再批量地写入到磁盘当中。而在写入磁盘时，会和以前的数据做合并。
在`合并过程`中，并不会像B+树一样，在原数据的位置上修改，而是`直接插入新的数据`，从而`避免了随机写`。


## LSM树的结构

LSM树的结构是横跨内存和磁盘的，包含memtable、immutable memtable、SSTable等多个部分。


