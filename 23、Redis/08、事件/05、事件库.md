
## [原文](http://ifeve.com/redies-event-library/)

# 事件库

究竟为什么需要一个事件库呢？让我们通过下面一系列问答来了解为什么。

问：你希望网络服务器持续不断地做什么事？

答：监听端口上进来的连接请求并接收它们。

问：调用套接字的Accept方法产生一个描述符，我们用这个描述符做什么？

答：保存这个描述符，并在它上面完成一次非阻塞读写操作。

问：为什么读写操作必须是非阻塞式的？

答：如果文件操作（在Unix系统中甚至于套接字都被描述成一个文件）是阻塞式的那么当它在一次文件I/O操作中被锁定时它怎么可能接收另外一个请求

问：我猜我必须在套接字上做很多次非阻塞式读写操作来得知它何时才能准备好，我说得对吗？

答：是的，这些就是事件库为你做的事。现在你知道了吧。

问：那事件库是怎么来完成它需要做的事呢？

答：事件库使用操作系统提供的轮询设施配合定时器一起完成工作。

问：那么有没有开源事件库来完成上面你描述的工作呢？

答：是的。libevent和libev就是我首先想到的两个这样的事件库。

问：Redis使用了这样的开源事件库来处理套接字输入输出了吗？

答：并没有，由于种种原因Redis实现了自己的事件库。